{"version":3,"sources":["app/header/directives/rmHeaderDirective.js"],"names":[],"mappings":";;;AAAA,KAAC,YAAW;AACR,oBAAY,CAAC;;AAEb,WAAG,CAAC,SAAS,CAAC,UAAU,EACxB,CAAC,SAAS,EAAE,YAAY,EAAE,aAAa,EAAC,iBAAiB,CAAC,CAAC,CAAC;;AAE5D,iBAAS,iBAAiB,CAAC,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE;;AAEzD,gBAAI,qBAAqB,GAAG,iCAAW;AACnC,oBAAI,KAAK,GAAG,GAAG;oBACX,MAAM,GAAG,GAAG;oBACZ,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAA,GAAE,CAAC;oBAChC,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAA,GAAE,CAAC,CAAC;AACpC,uBAAO,CAAC,IAAI,CACR,UAAU,CAAC,aAAa,EACxB,QAAQ,EACR,CAAC,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EACnC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;aAChD,CAAC;;AAEF,gBAAI,aAAa,GAAG,yBAAU;AAC1B,oBAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;AAChC,oBAAG,IAAI,EAAE;AACL,wBAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;wBACjC,CAAC,GAAG,EAAE,CAAC,MAAM;wBACb,MAAM,GAAG,EAAE;wBACX,EAAE,GAAG,aAAa;wBAClB,MAAM,GAAG,gBAAS,IAAI,EAAE;AACpB,4BAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AACd,gCAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpC,kCAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;yBACzB;qBACJ,CAAC;;AAEF,2BAAM,CAAC,EAAE,EAAC;AACN,8BAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;qBACjB;;AAED,wBAAG,MAAM,CAAC,YAAY,EAAE;AACpB,+BAAO,CAAC,KAAK,EAAE,CAAC;AAChB,+BAAO,CACF,MAAM,CACN,YAAY,CAAC,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;qBAC7D,MAAM,IAAG,MAAM,CAAC,KAAK,EAAE;AACpB,+BAAO,CAAC,KAAK,EAAE,CAAC;AAChB,+BAAO,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAC/C;iBACJ;aACR,CAAC;;AAEF,gBAAI,IAAI,GAAG,kCAAkC,CAAC;;AAE9C,mBAAO;AACH,wBAAQ,EAAE,GAAG;AACb,2BAAW,EAAE,IAAI;AACjB,mBAAG,EAAE,2BAA2B;AAChC,uBAAO,EAAE,IAAI;AACb,0BAAU,EAAE,oBAAoB;AAChC,oBAAI,EAAE,cAAU,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,EAElD;aACJ,CAAC;SAEL;KACJ,CAAA,EAAG,CAAC","file":"app/header/directives/rmHeaderDirective.js","sourcesContent":["(function() {\n    'use strict';\n    \n    app.directive('rmHeader',\n    ['$window', 'rmConsumer', 'OauthAccess',rmHeaderDirective]);\n\n    function rmHeaderDirective($window, rmConsumer, OauthAccess) {\n\n        var _requestAuthorization = function() {\n            var width = 500,\n                height = 350,\n                top = (screen.height - height)/2,\n                left = (screen.width - width)/2;\n            $window.open(\n                rmConsumer.authorize_uri,\n                \"Meetup\",\n                [\"height=\", height, \",width=\", width,\n                 \",top=\", top, \",left=\", left].join(''));    \n        };\n\n        var _isAuthorized = function(){\n            var frag = window.location.hash;\n            if(frag) {\n                var fp = frag.substring(1).split('&'),\n                    i = fp.length,\n                    params = {},\n                    re = /(\\S+)=(\\S+)/,\n                    inject = function(pair) {\n                        if(re.test(pair)) {\n                            var kv = re.exec(pair).splice(1, 2);\n                            params[kv[0]] = kv[1];\n                        }\n                    };\n\n                    while(i--){\n                        inject(fp[i]);\n                    }\n\n                    if(params.access_token) {\n                        $window.close();\n                        $window\n                            .opener\n                            .onMeetupAuth(params.access_token, params.expires_in);\n                    } else if(params.error) {\n                        $window.close();\n                        $window.opener.onMeetupDenial(params.error);\n                    }\n                }\n        };\n\n        var html = 'app/header/templates/header.html';\n\n        return {\n            restrict: 'E',\n            templateUrl: html,\n            css: 'app/header/css/header.css',\n            replace: true,\n            controller: 'rmHeaderController',\n            link: function (scope, element, attrs, controller) {\n                \n            }\n        };\n\n    }\n})();"]}