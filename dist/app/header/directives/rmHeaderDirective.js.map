{"version":3,"sources":["app/header/directives/rmHeaderDirective.js"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACR,gBAAY,CAAC;;AAEb,OAAG,CAAC,SAAS,CAAC,UAAU,EACxB,CAAC,SAAS,EAAE,YAAY,EAAE,aAAa,EAAC,iBAAiB,CAAC,CAAC,CAAC;;AAE5D,aAAS,iBAAiB,CAAC,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE;;AAEzD,YAAI,qBAAqB,GAAG,iCAAW;AACnC,gBAAI,KAAK,GAAG,GAAG;gBACX,MAAM,GAAG,GAAG;gBACZ,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAA,GAAE,CAAC;gBAChC,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAA,GAAE,CAAC,CAAC;AACpC,mBAAO,CAAC,IAAI,CACR,UAAU,CAAC,aAAa,EACxB,QAAQ,EACR,CAAC,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EACnC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;SAChD,CAAC;;AAEF,YAAI,aAAa,GAAG,yBAAU;AAC1B,gBAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;AAChC,gBAAG,IAAI,EAAE;AACL,oBAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;oBACjC,CAAC,GAAG,EAAE,CAAC,MAAM;oBACb,MAAM,GAAG,EAAE;oBACX,EAAE,GAAG,aAAa;oBAClB,MAAM,GAAG,gBAAS,IAAI,EAAE;AACpB,wBAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AACd,4BAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpC,8BAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;qBACzB;iBACJ,CAAC;;AAEF,uBAAM,CAAC,EAAE,EAAC;AACN,0BAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;iBACjB;;AAED,oBAAG,MAAM,CAAC,YAAY,EAAE;AACpB,2BAAO,CAAC,KAAK,EAAE,CAAC;AAChB,2BAAO,CACF,MAAM,CACN,YAAY,CAAC,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBAC7D,MAAM,IAAG,MAAM,CAAC,KAAK,EAAE;AACpB,2BAAO,CAAC,KAAK,EAAE,CAAC;AAChB,2BAAO,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBAC/C;aACJ;SACR,CAAC;;AAEF,YAAI,IAAI,GAAG,kCAAkC,CAAC;;AAE9C,eAAO;AACH,oBAAQ,EAAE,GAAG;AACb,uBAAW,EAAE,IAAI;AACjB,eAAG,EAAE,2BAA2B;AAChC,mBAAO,EAAE,IAAI;AACb,sBAAU,EAAE,oBAAoB;AAChC,gBAAI,EAAE,cAAU,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,EAElD;SACJ,CAAC;KAEL;CACJ,CAAA,EAAG,CAAC","file":"app/header/directives/rmHeaderDirective.js","sourcesContent":["(function() {\n    'use strict';\n    \n    app.directive('rmHeader',\n    ['$window', 'rmConsumer', 'OauthAccess',rmHeaderDirective]);\n\n    function rmHeaderDirective($window, rmConsumer, OauthAccess) {\n\n        var _requestAuthorization = function() {\n            var width = 500,\n                height = 350,\n                top = (screen.height - height)/2,\n                left = (screen.width - width)/2;\n            $window.open(\n                rmConsumer.authorize_uri,\n                \"Meetup\",\n                [\"height=\", height, \",width=\", width,\n                 \",top=\", top, \",left=\", left].join(''));    \n        };\n\n        var _isAuthorized = function(){\n            var frag = window.location.hash;\n            if(frag) {\n                var fp = frag.substring(1).split('&'),\n                    i = fp.length,\n                    params = {},\n                    re = /(\\S+)=(\\S+)/,\n                    inject = function(pair) {\n                        if(re.test(pair)) {\n                            var kv = re.exec(pair).splice(1, 2);\n                            params[kv[0]] = kv[1];\n                        }\n                    };\n\n                    while(i--){\n                        inject(fp[i]);\n                    }\n\n                    if(params.access_token) {\n                        $window.close();\n                        $window\n                            .opener\n                            .onMeetupAuth(params.access_token, params.expires_in);\n                    } else if(params.error) {\n                        $window.close();\n                        $window.opener.onMeetupDenial(params.error);\n                    }\n                }\n        };\n\n        var html = 'app/header/templates/header.html';\n\n        return {\n            restrict: 'E',\n            templateUrl: html,\n            css: 'app/header/css/header.css',\n            replace: true,\n            controller: 'rmHeaderController',\n            link: function (scope, element, attrs, controller) {\n                \n            }\n        };\n\n    }\n})();"]}